import{r as a,u as m,c as g,j as e,A as d}from"./index-r-D1rjOl.js";import"/api/js-modules/client-environment";function f({stats:h={},leaderboard:b=[]}){const[n,o]=a.useState([]),[r,c]=a.useState({}),i=m(g),x=[...n].sort((s,t)=>t.ecoPoints-s.ecoPoints).slice(0,10);return a.useEffect(()=>{async function s(){const[{users:t},l]=await Promise.all([d.fetch("/api/user/getAll"),d.fetch("/api/global-log-data/globalStates")]);c(l),o(t)}s()},[]),e.jsxs("div",{className:`${i?"ml-63  w-[78vw]":"ml-20  w-[80vw]"} overflow-x-hidden transition-all duration-500 p-6 min-h-screen`,children:[e.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Global Community"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-green-700 mb-2",children:"Top 10 Leaders"}),e.jsx("div",{className:"flex overflow-x-auto space-x-4 pb-2",children:x.map((s,t)=>{var l;return e.jsxs("div",{className:"min-w-[180px] bg-green-50 border border-green-100 p-4 rounded-lg shadow hover:shadow-md transition transform hover:-translate-y-1 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 text-green-800 flex items-center justify-center font-bold",children:((l=s.name)==null?void 0:l[0])||"U"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-green-800",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["#",t+1]})]})]}),e.jsxs("div",{className:"text-sm text-center text-green-700 font-bold",children:[s.ecoPoints," pts"]})]},t)})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 my-8",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between bg-green-50 p-4 rounded shadow",children:[e.jsx("span",{className:"text-green-800 font-semibold",children:"Total Actions Logged"}),e.jsx("span",{className:"text-green-700 font-bold",children:r.totalActions})]}),e.jsxs("div",{className:"flex items-center justify-between bg-green-50 p-4 rounded shadow",children:[e.jsx("span",{className:"text-green-800 font-semibold",children:"Most Common Habit"}),e.jsx("span",{className:"text-green-700 font-bold",children:r.commonHabit})]})]})}),e.jsx("h3",{className:"text-lg font-bold text-green-700 mb-4",children:"All GreenSteps Users"}),e.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:n.map((s,t)=>{var l;return e.jsxs("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl p-5 border border-green-100 transition transform hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 text-green-800 flex items-center justify-center text-xl font-bold",children:((l=s.name)==null?void 0:l[0])||"U"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-green-800",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Level ",s.level||1]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-green-900",children:[e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg text-center shadow",children:[e.jsx("p",{className:"font-bold",children:s.ecoPoints}),e.jsx("p",{className:"text-xs text-gray-600",children:"Eco Points"})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg text-center shadow",children:[e.jsxs("p",{className:"font-bold",children:[s.currentStreak," ðŸ”¥"]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Current Streak"})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg text-center shadow col-span-2",children:[e.jsxs("p",{className:"font-bold",children:[s.longestStreak," ðŸŒ¿"]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Longest Streak"})]})]})]},t)})})]})}export{f as default};
